# Erik-VPN Configuration File
# VLESS + Reality with 3X-UI Panel
# Скопируйте этот файл в .env и настройте под свои нужды

# =============================================================================
# ОСНОВНЫЕ НАСТРОЙКИ СЕРВЕРА
# =============================================================================

# IP адрес или домен сервера (обязательно!)
SERVER_HOST=your-server-ip-or-domain.com

# Часовой пояс
TZ=Europe/Moscow

# TCP Congestion Control (bbr, cubic, reno)
TCP_CONGESTION=bbr

# =============================================================================
# 3X-UI ПАНЕЛЬ УПРАВЛЕНИЯ
# =============================================================================

# Порт веб-панели (по умолчанию 2053)
PANEL_PORT=2053

# Учетные данные администратора (ОБЯЗАТЕЛЬНО ИЗМЕНИТЕ!)
ADMIN_USERNAME=admin
ADMIN_PASSWORD=your-secure-password-here

# Секретный ключ для сессий (сгенерируйте случайный)
SESSION_SECRET=your-random-session-secret-here

# =============================================================================
# ПОРТЫ XRAY ПРОТОКОЛОВ
# =============================================================================

# VLESS + Reality (основной протокол)
VLESS_PORT=443
VLESS_REALITY_PORT=8080

# VMess для совместимости
VMESS_PORT=80

# Trojan
TROJAN_PORT=8443

# Shadowsocks
SHADOWSOCKS_PORT=9443

# =============================================================================
# VLESS + REALITY НАСТРОЙКИ
# =============================================================================

# Домен для маскировки Reality (выберите популярный сайт)
# Рекомендуемые: microsoft.com, apple.com, cloudflare.com, github.com
REALITY_DEST=microsoft.com:443

# SNI для Reality (обычно тот же что и REALITY_DEST)
REALITY_SNI=microsoft.com

# Короткие ID для Reality (8-16 символов hex)
REALITY_SHORT_IDS=6ba85179e30d4fc2,b7a392e058d04fc0

# Список популярных сайтов для маскировки
# microsoft.com,apple.com,cloudflare.com,github.com,aws.amazon.com

# =============================================================================
# SSL СЕРТИФИКАТЫ
# =============================================================================

# Путь к SSL сертификатам (если используете собственные)
SSL_CERT_PATH=./certs/cert.pem
SSL_KEY_PATH=./certs/key.pem

# Email для Let's Encrypt (если используете автоматические сертификаты)
LETSENCRYPT_EMAIL=your-email@example.com

# =============================================================================
# БЕЗОПАСНОСТЬ
# =============================================================================

# Включить Fail2Ban (true/false)
ENABLE_FAIL2BAN=true

# Максимальное количество попыток входа
MAX_LOGIN_ATTEMPTS=3

# Время блокировки в минутах
BAN_TIME=60

# =============================================================================
# МОНИТОРИНГ (опционально)
# =============================================================================

# Prometheus
PROMETHEUS_PORT=9090

# Grafana
GRAFANA_PORT=3000
GRAFANA_USER=admin
GRAFANA_PASSWORD=grafana-admin-password

# Node Exporter
NODE_EXPORTER_PORT=9100

# Slack уведомления для Watchtower
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK

# =============================================================================
# РАСШИРЕННЫЕ НАСТРОЙКИ
# =============================================================================

# Логирование (none, error, warning, info, debug)
LOG_LEVEL=info

# Максимальное количество подключений на пользователя
MAX_CONNECTIONS_PER_USER=10

# Ограничение трафика по умолчанию (в GB, 0 = без ограничений)
DEFAULT_TRAFFIC_LIMIT=0

# Время жизни подключения в днях (0 = бессрочно)
DEFAULT_EXPIRE_DAYS=0

# =============================================================================
# СЕТЕВЫЕ ОПТИМИЗАЦИИ
# =============================================================================

# Buffer sizes для высокой производительности
NET_CORE_RMEM_MAX=16777216
NET_CORE_WMEM_MAX=16777216

# TCP buffer sizes
TCP_RMEM=4096 87380 16777216
TCP_WMEM=4096 65536 16777216

# =============================================================================
# ДОПОЛНИТЕЛЬНЫЕ ФУНКЦИИ
# =============================================================================

# Включить статистику трафика (true/false)
ENABLE_TRAFFIC_STATS=true

# Включить API для внешних приложений (true/false)
ENABLE_API=false

# API ключ (если включен API)
API_KEY=your-api-key-here

# Автоматическое обновление контейнеров (true/false)
AUTO_UPDATE=true

# =============================================================================
# ПРЕДУПРЕЖДЕНИЯ ПО БЕЗОПАСНОСТИ
# =============================================================================

# ⚠️  ОБЯЗАТЕЛЬНО ИЗМЕНИТЕ:
# - ADMIN_PASSWORD (используйте сложный пароль)
# - SESSION_SECRET (случайная строка 32+ символов)
# - GRAFANA_PASSWORD (если используете мониторинг)
# - API_KEY (если включен API)

# ⚠️  РЕКОМЕНДАЦИИ:
# - Используйте домен вместо IP для SERVER_HOST
# - Настройте SSL сертификаты
# - Включите мониторинг для продакшена
# - Регулярно обновляйте пароли
