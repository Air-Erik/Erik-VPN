# üè† –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Erik-VPN –Ω–∞ —Ä–æ—É—Ç–µ—Ä

–ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é WireGuard VPN —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ –¥–æ–º–∞—à–Ω–∏—Ö —Ä–æ—É—Ç–µ—Ä–∞—Ö. –≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç —Å–æ–∑–¥–∞—Ç—å VPN —Å–µ—Ä–≤–µ—Ä –ø—Ä—è–º–æ —É –≤–∞—Å –¥–æ–º–∞.

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–∞ —Ä–æ—É—Ç–µ—Ä

- **–í—Å–µ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–µ–Ω**: –†–æ—É—Ç–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç 24/7
- **–≠–∫–æ–Ω–æ–º–∏—á–Ω–æ**: –ù–µ –Ω—É–∂–Ω–æ –ø–ª–∞—Ç–∏—Ç—å –∑–∞ VPS
- **–õ–æ–∫–∞–ª—å–Ω—ã–π –¥–æ—Å—Ç—É–ø**: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –¥–æ–º–∞—à–Ω–µ–π —Å–µ—Ç–∏ –∏–∑ –ª—é–±–æ–π —Ç–æ—á–∫–∏ –º–∏—Ä–∞
- **–í—ã—Å–æ–∫–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å**: –ü—Ä—è–º–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –¥–æ–º–∞—à–Ω–µ–º—É –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É
- **–ü—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å**: –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –¥–∞–Ω–Ω—ã–º–∏

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Ä–æ—É—Ç–µ—Ä—É

### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:
- **CPU**: ARM –∏–ª–∏ MIPS —Å —á–∞—Å—Ç–æ—Ç–æ–π 500MHz+
- **RAM**: 64MB+ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 128MB+)
- **–§–ª–µ—à**: 16MB+ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 32MB+)
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞**: OpenWrt, DD-WRT –∏–ª–∏ –Ω–∞—Ç–∏–≤–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ Docker

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –º–æ–¥–µ–ª–∏ —Ä–æ—É—Ç–µ—Ä–æ–≤:

#### ‚úÖ –û—Ç–ª–∏—á–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è:
- **Raspberry Pi** (—Å OpenWrt –∏–ª–∏ Raspberry Pi OS)
- **GL.iNet**: GL-AX1800, GL-AXT1800, GL-B1300, GL-MT1300
- **Linksys**: WRT1900ACS, WRT1900AC, WRT1200AC
- **Netgear**: R7800, R7500v2, R6400v2
- **TP-Link**: Archer C7, Archer A7, AC1750
- **ASUS**: RT-AC86U, RT-AX88U (—Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Entware)

#### ‚ö†Ô∏è –¢—Ä–µ–±—É—é—Ç –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏:
- **Mikrotik**: RouterBoard —Å–µ—Ä–∏–∏ (–ø–æ–¥–¥–µ—Ä–∂–∫–∞ WireGuard —Å v7.0+)
- **Ubiquiti**: EdgeRouter, UniFi Dream Machine
- **D-Link**: DIR-878, DIR-882

## üöÄ –ú–µ—Ç–æ–¥ 1: OpenWrt (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ª–∏ –≤–∞—à —Ä–æ—É—Ç–µ—Ä OpenWrt: https://openwrt.org/toh/start

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ OpenWrt

‚ö†Ô∏è **–í–Ω–∏–º–∞–Ω–∏–µ**: –ü—Ä–æ—à–∏–≤–∫–∞ —Ä–æ—É—Ç–µ—Ä–∞ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ø–æ—Ç–µ—Ä–µ –≥–∞—Ä–∞–Ω—Ç–∏–∏ –∏ "–∫–∏—Ä–ø–∏—á—É". –î–µ–ª–∞–π—Ç–µ –Ω–∞ —Å–≤–æ–π —Å—Ç—Ä–∞—Ö –∏ —Ä–∏—Å–∫!

#### –®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞
```bash
# –£–∑–Ω–∞–π—Ç–µ —Ç–æ—á–Ω—É—é –º–æ–¥–µ–ª—å —Ä–æ—É—Ç–µ—Ä–∞
cat /proc/cpuinfo
cat /proc/version

# –°–∫–∞—á–∞–π—Ç–µ –ø—Ä–æ—à–∏–≤–∫—É —Å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Å–∞–π—Ç–∞ OpenWrt
# –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à—É –º–æ–¥–µ–ª—å: https://openwrt.org/toh/start
```

#### –®–∞–≥ 2: –ü—Ä–æ—à–∏–≤–∫–∞ (–ø—Ä–∏–º–µ—Ä –¥–ª—è TP-Link Archer C7)
1. –°–∫–∞—á–∞–π—Ç–µ —Ñ–∞–π–ª –ø—Ä–æ—à–∏–≤–∫–∏ (.bin –∏–ª–∏ .trx)
2. –ó–∞–π–¥–∏—Ç–µ –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ä–æ—É—Ç–µ—Ä–∞ (–æ–±—ã—á–Ω–æ 192.168.1.1)
3. –ù–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª "Firmware Upgrade" –∏–ª–∏ "System Tools"
4. –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª –ø—Ä–æ—à–∏–≤–∫–∏
5. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è (–ù–ï –í–´–ö–õ–Æ–ß–ê–ô–¢–ï —Ä–æ—É—Ç–µ—Ä!)

#### –®–∞–≥ 3: –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ OpenWrt
```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Ä–æ—É—Ç–µ—Ä—É —á–µ—Ä–µ–∑ SSH
ssh root@192.168.1.1

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–∞—Ä–æ–ª—å
passwd

# –û–±–Ω–æ–≤–∏—Ç–µ –ø–∞–∫–µ—Ç—ã
opkg update
```

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ WireGuard –Ω–∞ OpenWrt

#### –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (LuCI)

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
opkg install luci
/etc/init.d/uhttpd start
/etc/init.d/uhttpd enable

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ WireGuard —Å –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º
opkg install wireguard-tools kmod-wireguard
opkg install luci-proto-wireguard luci-app-wireguard
```

–ó–∞—Ç–µ–º:
1. –û—Ç–∫—Ä–æ–π—Ç–µ http://192.168.1.1 –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –í–æ–π–¥–∏—Ç–µ —Å –ø–∞—Ä–æ–ª–µ–º root
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Network ‚Üí Interfaces**
4. –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ç–∏–ø–∞ **WireGuard VPN**

#### –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ WireGuard
opkg install wireguard-tools kmod-wireguard

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–µ–π —Å–µ—Ä–≤–µ—Ä–∞
wg genkey | tee /etc/wireguard/server_private_key | wg pubkey > /etc/wireguard/server_public_key

# –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å–µ—Ä–≤–µ—Ä–∞
cat > /etc/config/network << 'EOF'
config interface 'wg0'
    option proto 'wireguard'
    option private_key_file '/etc/wireguard/server_private_key'
    option listen_port '51820'
    list addresses '10.8.0.1/24'

config wireguard_wg0
    option description 'Client 1'
    option public_key 'CLIENT_PUBLIC_KEY_HERE'
    list allowed_ips '10.8.0.2/32'
EOF

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ–∞–π—Ä–≤–æ–ª–∞
cat > /etc/config/firewall << 'EOF'
config zone
    option name 'wg'
    option input 'ACCEPT'
    option output 'ACCEPT'
    option forward 'ACCEPT'
    option masq '1'
    list network 'wg0'

config forwarding
    option src 'wg'
    option dest 'wan'

config rule
    option name 'Allow-WireGuard'
    option src 'wan'
    option dest_port '51820'
    option proto 'udp'
    option target 'ACCEPT'
EOF

# –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫
/etc/init.d/network reload
/etc/init.d/firewall reload
```

## üîß –ú–µ—Ç–æ–¥ 2: Raspberry Pi

Raspberry Pi - –æ—Ç–ª–∏—á–Ω—ã–π –≤—ã–±–æ—Ä –¥–ª—è –¥–æ–º–∞—à–Ω–µ–≥–æ VPN —Å–µ—Ä–≤–µ—Ä–∞.

### –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ Raspberry Pi

#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Raspberry Pi OS Lite:
1. –°–∫–∞—á–∞–π—Ç–µ Raspberry Pi Imager
2. –í—ã–±–µ—Ä–∏—Ç–µ "Raspberry Pi OS Lite (64-bit)"
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ SSH –∏ WiFi –ø—Ä–∏ –∑–∞–ø–∏—Å–∏ –Ω–∞ SD –∫–∞—Ä—Ç—É

#### –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞:
```bash
# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø–æ SSH
ssh pi@raspberrypi.local

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
sudo apt update && sudo apt upgrade -y

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –ø–∞–∫–µ—Ç–æ–≤
sudo apt install curl git
```

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å –ø–æ–º–æ—â—å—é –Ω–∞—à–µ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞:

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone https://github.com/your-username/Erik-VPN.git
cd Erik-VPN

# –ó–∞–ø—É—Å–∫ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
chmod +x scripts/deploy.sh
./scripts/deploy.sh
```

### –†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ Raspberry Pi:

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker
curl -fsSL https://get.docker.com -o get-docker.sh
sudo sh get-docker.sh
sudo usermod -aG docker pi

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker Compose
sudo apt install docker-compose

# –í–∫–ª—é—á–µ–Ω–∏–µ IP forwarding
echo 'net.ipv4.ip_forward=1' | sudo tee -a /etc/sysctl.conf
sudo sysctl -p

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
cp env.example .env
nano .env  # –ù–∞—Å—Ç—Ä–æ–π—Ç–µ WG_HOST –∏ ADMIN_PASSWORD

# –ó–∞–ø—É—Å–∫
docker-compose up -d
```

## ‚öôÔ∏è –ú–µ—Ç–æ–¥ 3: ASUS Routers (Entware)

–î–ª—è —Ä–æ—É—Ç–µ—Ä–æ–≤ ASUS —Å –ø—Ä–æ—à–∏–≤–∫–æ–π Merlin –∏–ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Entware.

### –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞:
```bash
# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Ä–æ—É—Ç–µ—Ä—É
ssh admin@192.168.1.1

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Entware (–µ—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
# –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º: https://github.com/RMerl/asuswrt-merlin.ng/wiki/Entware
```

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ WireGuard:
```bash
# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞–∫–µ—Ç–æ–≤ Entware
opkg update

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ WireGuard
opkg install wireguard-tools

# –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
mkdir -p /opt/etc/wireguard
wg genkey | tee /opt/etc/wireguard/privatekey | wg pubkey > /opt/etc/wireguard/publickey

# –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
cat > /opt/etc/wireguard/wg0.conf << 'EOF'
[Interface]
PrivateKey = PASTE_SERVER_PRIVATE_KEY_HERE
Address = 10.8.0.1/24
ListenPort = 51820
PostUp = iptables -A FORWARD -i wg0 -j ACCEPT; iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE
PostDown = iptables -D FORWARD -i wg0 -j ACCEPT; iptables -t nat -D POSTROUTING -o eth0 -j MASQUERADE

[Peer]
PublicKey = CLIENT_PUBLIC_KEY_HERE
AllowedIPs = 10.8.0.2/32
EOF

# –ó–∞–ø—É—Å–∫
wg-quick up wg0

# –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫
echo "wg-quick up wg0" >> /jffs/scripts/wan-start
chmod +x /jffs/scripts/wan-start
```

## üåê –ú–µ—Ç–æ–¥ 4: Mikrotik RouterOS

–î–ª—è —Ä–æ—É—Ç–µ—Ä–æ–≤ Mikrotik —Å RouterOS 7.0+

### –ß–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (WinBox):
1. –û—Ç–∫—Ä–æ–π—Ç–µ WinBox –∏–ª–∏ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **WireGuard**
3. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–∏—Ä—ã (clients)

### –ß–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É:
```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ WireGuard
/interface/wireguard/add name=wg0 listen-port=51820

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–µ–π (–±—É–¥—É—Ç –ø–æ–∫–∞–∑–∞–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
/interface/wireguard/print

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ IP –∞–¥—Ä–µ—Å–∞
/ip/address/add address=10.8.0.1/24 interface=wg0

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞
/interface/wireguard/peers/add interface=wg0 public-key="CLIENT_PUBLIC_KEY" allowed-address=10.8.0.2/32

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ NAT
/ip/firewall/nat/add chain=srcnat action=masquerade out-interface=ether1 src-address=10.8.0.0/24

# –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
/ip/firewall/filter/add chain=input action=accept protocol=udp dst-port=51820
```

## üîí –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### –§–∞–π—Ä–≤–æ–ª –∏ –ø–æ—Ä—Ç—ã:
```bash
# –î–ª—è OpenWrt
uci add firewall rule
uci set firewall.@rule[-1].name='Allow-WireGuard'
uci set firewall.@rule[-1].src='wan'
uci set firewall.@rule[-1].dest_port='51820'
uci set firewall.@rule[-1].proto='udp'
uci set firewall.@rule[-1].target='ACCEPT'
uci commit firewall
/etc/init.d/firewall reload
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ DDNS (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π DNS):
–ï—Å–ª–∏ —É –≤–∞—Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π IP –æ—Ç –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞:

```bash
# –î–ª—è OpenWrt
opkg install ddns-scripts luci-app-ddns

# –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ:
# Services ‚Üí Dynamic DNS
```

–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ DDNS —Å–µ—Ä–≤–∏—Å—ã:
- **No-IP** (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π)
- **DuckDNS** (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π)
- **Dynu** (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π)

## üì∂ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ QoS:
```bash
# –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏ VPN (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
tc qdisc add dev wg0 root tbf rate 50mbit burst 32kbit latency 400ms
```

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è —Å–ª–∞–±—ã—Ö —Ä–æ—É—Ç–µ—Ä–æ–≤:
```bash
# –£–º–µ–Ω—å—à–µ–Ω–∏–µ MTU –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ —Ä–µ—Å—É—Ä—Å–æ–≤
echo 'MTU = 1280' >> /etc/wireguard/wg0.conf

# –£–≤–µ–ª–∏—á–µ–Ω–∏–µ keepalive –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ —Ç—Ä–∞—Ñ–∏–∫–∞
echo 'PersistentKeepalive = 60' >> /etc/wireguard/wg0.conf
```

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ OpenWrt:
```bash
# –°–æ–∑–¥–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
cat > /root/update_packages.sh << 'EOF'
#!/bin/sh
opkg update
opkg list-upgradable | cut -f 1 -d ' ' | xargs opkg upgrade
EOF

chmod +x /root/update_packages.sh

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ crontab (–µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ)
echo "0 3 * * 0 /root/update_packages.sh" >> /etc/crontabs/root
/etc/init.d/cron restart
```

### –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:
```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ OpenWrt
sysupgrade -b /tmp/backup-$(date +%Y%m%d).tar.gz

# –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ WireGuard –∫–ª—é—á–µ–π
tar -czf /tmp/wg-backup-$(date +%Y%m%d).tar.gz /etc/wireguard/
```

## üö® –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–∏–∑–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

**–†–µ—à–µ–Ω–∏—è:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ CPU
top

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏
free -m

# –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ —è–¥—Ä–∞
echo 'net.core.default_qdisc = fq' >> /etc/sysctl.conf
echo 'net.ipv4.tcp_congestion_control = bbr' >> /etc/sysctl.conf
sysctl -p
```

### –ü—Ä–æ–±–ª–µ–º–∞: –†–æ—É—Ç–µ—Ä –∑–∞–≤–∏—Å–∞–µ—Ç

**–†–µ—à–µ–Ω–∏—è:**
1. –£–º–µ–Ω—å—à–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
2. –£–≤–µ–ª–∏—á—å—Ç–µ `PersistentKeepalive` –¥–æ 60 —Å–µ–∫—É–Ω–¥
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–æ–ª–µ–µ –ø—Ä–æ—Å—Ç–æ–π –∞–ª–≥–æ—Ä–∏—Ç–º —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞
/etc/init.d/wireguard enable

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫—É (OpenWrt)
echo "wg-quick up wg0" >> /etc/rc.local
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ü—Ä–æ—Å—Ç–æ–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —á–µ—Ä–µ–∑ SSH:
```bash
# –°—Ç–∞—Ç—É—Å WireGuard
wg show

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
htop

# –°–µ—Ç–µ–≤–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
iftop -i wg0
```

### –í–µ–±-–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (–¥–ª—è –±–æ–ª–µ–µ –º–æ—â–Ω—ã—Ö —Ä–æ—É—Ç–µ—Ä–æ–≤):
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–æ—Å—Ç–æ–≥–æ –≤–µ–±-–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
opkg install luci-app-statistics collectd-mod-interface
```

## üîó –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞

### –ü—Ä–æ–±—Ä–æ—Å –ø–æ—Ä—Ç–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–º —Ä–æ—É—Ç–µ—Ä–µ:
–ï—Å–ª–∏ VPN —Ä–æ—É—Ç–µ—Ä –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –∑–∞ NAT –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ä–æ—É—Ç–µ—Ä–∞:

1. –ó–∞–π–¥–∏—Ç–µ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ä–æ—É—Ç–µ—Ä–∞
2. –ù–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª "Port Forwarding" –∏–ª–∏ "Virtual Servers"
3. –î–æ–±–∞–≤—å—Ç–µ –ø—Ä–∞–≤–∏–ª–æ:
   - **–í–Ω–µ—à–Ω–∏–π –ø–æ—Ä—Ç**: 51820 (UDP)
   - **–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π IP**: IP –∞–¥—Ä–µ—Å VPN —Ä–æ—É—Ç–µ—Ä–∞
   - **–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –ø–æ—Ä—Ç**: 51820 (UDP)

### –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π IP –∞–¥—Ä–µ—Å:
```bash
# –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ IP –¥–ª—è VPN —Ä–æ—É—Ç–µ—Ä–∞
# –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ä–æ—É—Ç–µ—Ä–∞ –≤ —Ä–∞–∑–¥–µ–ª–µ DHCP Reservation
```

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –≤—ã–±–æ—Ä—É —Ä–æ—É—Ç–µ—Ä–∞

### –ë—é–¥–∂–µ—Ç–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã ($50-100):
- **GL.iNet GL-AXT1800** - –æ—Ç–ª–∏—á–Ω–æ –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö
- **TP-Link Archer A7** - —Ö–æ—Ä–æ—à–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- **Raspberry Pi 4** + USB-Ethernet –∞–¥–∞–ø—Ç–µ—Ä

### –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã ($100-200):
- **Netgear R7800** - –≤—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- **Linksys WRT1900ACS** - –æ—Ç–ª–∏—á–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ OpenWrt
- **ASUS RT-AC86U** - –º–æ—â–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä

### –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã ($200+):
- **Mikrotik RB4011** - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –≥–∏–±–∫–æ—Å—Ç—å
- **Ubiquiti Dream Machine** - –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ
- **PC Engines APU2** - –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [OpenWrt Table of Hardware](https://openwrt.org/toh/start)
- [WireGuard –Ω–∞ OpenWrt](https://openwrt.org/docs/guide-user/services/vpn/wireguard/basics)
- [GL.iNet –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://docs.gl-inet.com/)
- [ASUS Merlin firmware](https://www.asuswrt-merlin.net/)

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–∞ —Ä–æ—É—Ç–µ—Ä:
- [–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–ª–∏–µ–Ω—Ç—ã](client-setup.md)
- [–ò–∑—É—á–∏—Ç–µ –≤–æ–ø—Ä–æ—Å—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏](security.md)
- [–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥](monitoring.md)
